<html>

<head>

    <script src="rules.js"></script>
    <script>

        decisionEngine.registerRuleFunction(
                "greater than",
                /^(.*) > (.*)$/,
                function(data,x,y){
                    var bool = data[x] > y;
                    return bool;
                }
        );

        decisionEngine.registerRuleFunction(
                "sayHello",
                /^sayHello$/,
                function(data){
                    return "H-E-L-L-O";
                }
        );

    </script>
</head>

<body>

<h3>RULE</h3>
<textarea id="rule" cols="80" rows="10">
WHEN
 myField exists
 myField > 20
END

# remove end to run THEN
THEN
 sayHello
</textarea>
<br/>

<h3>DATA</h3>
<textarea id="data" cols="80" rows="10">
{
 "myField":21
}
</textarea>
<br/>

<input type="button" value="GO" onclick="run()">
<br/>
<br/>

<textarea id="output" cols="80" rows="10">
    output will go here
</textarea>


<script>

    function run(){

        var trigger = document.getElementById("rule").value;
        var dataStr = document.getElementById("data").value;
        var output = document.getElementById("output");

        data = JSON.parse(dataStr);
        var result = decisionEngine.validate(trigger,data);
        output.value = result;

    }

</script>

</body>

</html>